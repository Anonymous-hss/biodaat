# Biodaat - LiteSpeed Compatible
RewriteEngine On

# API passthrough
RewriteRule ^api/(.*)$ api/$1 [L]

# Serve app/out/ for root
RewriteRule ^$ app/out/index.html [L]

# Serve directories from app/out/
RewriteRule ^(create|login|dashboard)/$ app/out/$1/index.html [L]

# Serve existing static files from app/out/_next/
RewriteCond %{REQUEST_URI} ^/_next/
RewriteRule ^(.*)$ app/out/$1 [L]

# Fallback to app/out for HTML files
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ app/out/$1 [L]
